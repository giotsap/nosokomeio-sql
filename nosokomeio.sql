--
-- File generated with SQLiteStudio v3.2.1 on Τρι Οκτ 26 12:46:36 2021
--
-- Text encoding used: UTF-8
--
PRAGMA foreign_keys = off;
BEGIN TRANSACTION;

-- Table: ΑΣΘΕΝΗΣ
CREATE TABLE ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ INTEGER NOT NULL UNIQUE, ΟΝΟΜΑ VARCHAR (45) NOT NULL, ΕΠΙΘΕΤΟ VARCHAR (45) NOT NULL, ΠΟΛΗ VARCHAR (45) NOT NULL, ΔΙΕΥΘΥΝΣΗ VARCHAR (100), ΤΗΛΕΦΩΝΟ VARCHAR (10), PRIMARY KEY (ID_ΑΣΘΕΝΗΣ));
INSERT INTO ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (1, 'ΓΕΩΡΓΙΟΣ', 'ΤΣΑΠΟΥΡΗΣ', 'ΛΑΡΙΣΑ', 'ΘΡΑΚΗΣ', '2310556070');
INSERT INTO ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (2, 'ΔΗΜΗΤΡΑ', 'ΑΓΓΕΛΑΚΗ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΠΥΛΑΙΑΣ 11', '2310715715');
INSERT INTO ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (3, 'ΕΥΑΓΓΕΛΙΑ', 'ΒΑΚΧΟΥ', 'ΓΡΕΒΕΝΑ', 'ΚΟΥΝΤΟΥΡΙΩΤΗ 17', '2434056789');
INSERT INTO ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (4, 'ΖΑΧΑΡΙΑΣ', 'ΓΕΩΡΓΙΟΥ', 'ΑΓΡΙΝΙΟ', 'ΛΑΜΠΡΑΚΗ 124', '2641051013');
INSERT INTO ΑΣΘΕΝΗΣ (ID_ΑΣΘΕΝΗΣ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (5, 'ΕΛΛΗ', 'ΣΤΑΗ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΝΙΚΗΣ 4', '2310817853');

-- Table: ΓΙΑΤΡΟΣ
CREATE TABLE ΓΙΑΤΡΟΣ (
  ID_ΓΙΑΤΡΟΥ INTEGER  NOT NULL  ,
  ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ INTEGER  NOT NULL  ,
  ΟΝΟΜΑ VARCHAR(45)  NOT NULL  ,
  ΕΠΙΘΕΤΟ VARCHAR(45)  NOT NULL  ,
  ΠΟΛΗ VARCHAR(45)    ,
  ΔΙΕΥΘΥΝΣΗ VARCHAR(100)    ,
  ΤΗΛΕΦΩΝΟ VARCHAR(10)      ,
PRIMARY KEY(ID_ΓΙΑΤΡΟΥ)  ,
  FOREIGN KEY(ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ)
    REFERENCES ΝΟΣΟΚΟΜΕΙΟ(ID_ΝΟΣΟΚΟΜΕΙΟΥ)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION);
INSERT INTO ΓΙΑΤΡΟΣ (ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (1, 1, 'ΑΝΔΡΕΑΣ', 'ΑΝΔΡΕΟΥ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΑΙΓΑΙΟΥ 8', '2310811111');
INSERT INTO ΓΙΑΤΡΟΣ (ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (2, 2, 'ΠΑΡΑΣΚΕΥΑΣ', 'ΑΝΤΖΑΣ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΠΡΕΣΠΩΝ 45', '2310811222');
INSERT INTO ΓΙΑΤΡΟΣ (ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (3, 1, 'ΛΑΜΠΡΙΝΗ', 'ΛΑΜΠΡΟΥ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΜΕΣΣΟΛΟΓΓΙΟΥ 5', '2310811333');
INSERT INTO ΓΙΑΤΡΟΣ (ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (4, 2, 'ΙΩΑΝΝΗΣ', 'ΣΑΡΑΦΗΣ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΛΗΜΝΟΥ 5', '2310811754');
INSERT INTO ΓΙΑΤΡΟΣ (ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΕΠΙΘΕΤΟ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (5, 4, 'ΑΝΑΣΤΑΣΙΑ', 'ΜΠΙΜΠΑ', 'ΑΓΡΙΝΙΟ', 'ΣΟΥΛΟΥ 13', '2641092174');

-- Table: ΕΞΕΤΑΣΗ
CREATE TABLE ΕΞΕΤΑΣΗ (
  ID_ΕΞΕΤΑΣΗΣ INTEGER  NOT NULL  ,
  ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ INTEGER  NOT NULL  ,
  ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ VARCHAR(100)    ,
  ΗΜΕΡΟΜΗΝΙΑ DATE    ,
  ΑΠΟΤΕΛΕΣΜΑ VARCHAR(100)      ,
PRIMARY KEY(ID_ΕΞΕΤΑΣΗΣ)  ,
  FOREIGN KEY(ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ)
    REFERENCES ΕΠΙΣΚΕΨΗ(ID_ΕΠΙΣΚΕΨΗΣ)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION);
INSERT INTO ΕΞΕΤΑΣΗ (ID_ΕΞΕΤΑΣΗΣ, ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ, ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ, ΗΜΕΡΟΜΗΝΙΑ, ΑΠΟΤΕΛΕΣΜΑ) VALUES (1, 1, 'ουρα', '2013-07-10 10:00:00', 'οκ');
INSERT INTO ΕΞΕΤΑΣΗ (ID_ΕΞΕΤΑΣΗΣ, ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ, ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ, ΗΜΕΡΟΜΗΝΙΑ, ΑΠΟΤΕΛΕΣΜΑ) VALUES (2, 1, 'αιμα', '2013-07-10 12:00:00', 'ελλειψη σιδηρου');
INSERT INTO ΕΞΕΤΑΣΗ (ID_ΕΞΕΤΑΣΗΣ, ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ, ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ, ΗΜΕΡΟΜΗΝΙΑ, ΑΠΟΤΕΛΕΣΜΑ) VALUES (3, 3, 'ουρα', '2016-02-10 01:00:00', 'οκ');
INSERT INTO ΕΞΕΤΑΣΗ (ID_ΕΞΕΤΑΣΗΣ, ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ, ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ, ΗΜΕΡΟΜΗΝΙΑ, ΑΠΟΤΕΛΕΣΜΑ) VALUES (4, 3, 'αιμα', '2013-07-10 03:00:00', 'οκ');
INSERT INTO ΕΞΕΤΑΣΗ (ID_ΕΞΕΤΑΣΗΣ, ΕΠΙΣΚΕΨΗ_ID_ΕΠΙΣΚΕΨΗΣ, ΕΙΔΟΣ_ΕΞΕΤΑΣΗΣ, ΗΜΕΡΟΜΗΝΙΑ, ΑΠΟΤΕΛΕΣΜΑ) VALUES (5, 4, 'μαγνητικη', '2017-04-10 00:00:00', 'οκ');

-- Table: ΕΠΙΣΚΕΨΗ
CREATE TABLE ΕΠΙΣΚΕΨΗ (
  ID_ΕΠΙΣΚΕΨΗΣ INTEGER  NOT NULL  ,
  ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ INTEGER  NOT NULL  ,
  ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ INTEGER  NOT NULL  ,
  ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ INTEGER  NOT NULL  ,
  ΗΜΕΡΟΜΗΝΙΑ ΕΠΙΣΚ DATE      ,
PRIMARY KEY(ID_ΕΠΙΣΚΕΨΗΣ)      ,
  FOREIGN KEY(ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ)
    REFERENCES ΝΟΣΟΚΟΜΕΙΟ(ID_ΝΟΣΟΚΟΜΕΙΟΥ)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ)
    REFERENCES ΑΣΘΕΝΗΣ(ID_ΑΣΘΕΝΗΣ)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ)
    REFERENCES ΓΙΑΤΡΟΣ(ID_ΓΙΑΤΡΟΥ)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION);
INSERT INTO ΕΠΙΣΚΕΨΗ (ID_ΕΠΙΣΚΕΨΗΣ, ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ, ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΗΜΕΡΟΜΗΝΙΑ) VALUES (1, 2, 1, 1, '2013-07-10 00:00:00');
INSERT INTO ΕΠΙΣΚΕΨΗ (ID_ΕΠΙΣΚΕΨΗΣ, ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ, ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΗΜΕΡΟΜΗΝΙΑ) VALUES (2, 3, 2, 2, '2014-02-10 00:00:00');
INSERT INTO ΕΠΙΣΚΕΨΗ (ID_ΕΠΙΣΚΕΨΗΣ, ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ, ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΗΜΕΡΟΜΗΝΙΑ) VALUES (3, 1, 3, 1, '2016-02-11 01:00:00');
INSERT INTO ΕΠΙΣΚΕΨΗ (ID_ΕΠΙΣΚΕΨΗΣ, ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ, ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΗΜΕΡΟΜΗΝΙΑ) VALUES (4, 4, 4, 2, '2017-07-10 00:00:00');
INSERT INTO ΕΠΙΣΚΕΨΗ (ID_ΕΠΙΣΚΕΨΗΣ, ΑΣΘΕΝΗΣ_ID_ΑΣΘΕΝΗΣ, ΓΙΑΤΡΟΣ_ID_ΓΙΑΤΡΟΥ, ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΗΜΕΡΟΜΗΝΙΑ) VALUES (5, 5, 5, 4, '2017-04-10 03:00:00');

-- Table: ΝΟΣΟΚΟΜΕΙΟ
CREATE TABLE ΝΟΣΟΚΟΜΕΙΟ (ID_ΝΟΣΟΚΟΜΕΙΟΥ INTEGER NOT NULL UNIQUE, ΟΝΟΜΑ VARCHAR (45), ΠΟΛΗ VARCHAR (45), ΔΙΕΥΘΥΝΣΗ VARCHAR (100), ΤΗΛΕΦΩΝΟ VARCHAR (10), PRIMARY KEY (ID_ΝΟΣΟΚΟΜΕΙΟΥ));
INSERT INTO ΝΟΣΟΚΟΜΕΙΟ (ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (1, 'ΓΕΝΝΗΜΑΤΑΣ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΑΜΥΝΗΣ 14', '2310811754');
INSERT INTO ΝΟΣΟΚΟΜΕΙΟ (ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (2, 'ΙΠΠΟΚΡΑΤΕΙΟ', 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΕΓΝΑΤΙΑΣ 121', '2310817123');
INSERT INTO ΝΟΣΟΚΟΜΕΙΟ (ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (3, 'ΥΓΕΙΑ', 'ΛΑΡΙΣΑ', 'ΜΑΝΔΗΛΑΡΑ 5', '2410145673');
INSERT INTO ΝΟΣΟΚΟΜΕΙΟ (ID_ΝΟΣΟΚΟΜΕΙΟΥ, ΟΝΟΜΑ, ΠΟΛΗ, ΔΙΕΥΘΥΝΣΗ, ΤΗΛΕΦΩΝΟ) VALUES (4, 'ΕΛΠΙΔΑ', 'ΑΓΡΙΝΙΟ', 'ΠΑΠΑΣΤΡΑΤΟΥ 2', '2641017853');

-- View: A
CREATE VIEW A AS
 SELECT ID_ΕΠΙΣΚΕΨΗΣ, COUNT(*) AS A
 FROM ID_ΕΠΙΣΚΕΨΗΣ
 GROUP BY ID_ΕΠΙΣΚΕΨΗΣ;

-- View: MEGALO
CREATE VIEW 'MEGALO' AS
 SELECT ID_ΕΠΙΣΚΕΨΗΣ, COUNT(*) AS A
 FROM ΕΠΙΣΚΕΨΗ 
 GROUP BY ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ;

-- View: numRent
CREATE VIEW numRent AS
 SELECT ID_ΕΠΙΣΚΕΨΗΣ, COUNT(ID_ΕΠΙΣΚΕΨΗΣ) FROM ΕΠΙΣΚΕΨΗ GROUP BY ΝΟΣΟΚΟΜΕΙΟ_ID_ΝΟΣΟΚΟΜΕΙΟΥ;

COMMIT TRANSACTION;
PRAGMA foreign_keys = on;
